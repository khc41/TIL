## 📅 2025-03-10
### 📖 읽은 블로그: [Java Garbage Collection](https://d2.naver.com/helloworld/1329)
#### ✏️ 세 줄 요약
- GC를 실행하기 위해 JVM이 애플리케이션 실행을 멈추는 것을 stop-the-world라고 하는데, 대개의 경우 이 시간을 줄이는 것이 GC 튜닝이다.
- Young 영역에는 새롭게 생성한 대부분이 위치하고 이 영역에서 객체가 사라질 때 Minor GC가 발생한다. Old 영역에는 Young 영역에서 살아남은 객체가 복사되고 객체가 사라질 때 Major GC(혹은 Full GC)가 발생한다.
- 각 서비스의 WAS에서 생성하는 객체의 크기와 생존 주기가 모두 다르고 장비의 종류도 다양하므로 GC 옵션을 지속적인 튜닝과 모니터링을 통해 해당 서비스에 가장 적합한 값을 찾아야 한다.
#### 💡 느낀 점
- 어제 GC 튜닝을 처음 접하고 실제로 그라파나를 통해 GC 대시보드를 확인해봤는데 처음엔 Young, Old 등이 뭐가 뭔지 잘 모르겠었다. 근데 글을 읽고 어느정도 이해가 됐다.
- 자바 내부에서 객체를 지우기 위해 내부적으로 이런 단계를 거치고 있다는 것에 놀랐고, 애플리케이션이 우리가 모르게 멈추는 것에 대해서도 새롭게 알게됐다. 
- 이 부분을 잘 알아두면 성능 개선의 포인트가 될 것 같다고 생각했다.

---

### 🎥 시청한 컨퍼런스 영상: [Kafka를 활용한 이벤트 기반 아키텍처 구축 #우아콘2023 #우아한형제들](https://www.youtube.com/watch?v=DY3sUeGu74M)
#### ✏️ 세 줄 요약
- 기존 배달만 집중하던 때와 달리 시스템이 커지며 시스템의 복잡성이 커졌고 이를 해결하기 위해 결과적 일관성만 보장해주면 되는 기능들을 이벤트 기반 아키텍쳐로 분리하게 됐다.
- 순서 보장 / 고성능, 고가용성 / 통합 도구 지원 / 전담팀 지원의 이점이 있는 kafka를 이벤트 파이프라인으로 선택했다.
- 카프카에 장애가 발생해도 결과를 보장해주기 위해 Transactional outbox Pattern을 도입했고, CDC인 debezium을 통해 데이터 베이스 변경 이벤트 발생 시 카프카로 데이터를 전송해 결과를 보장해줬다.
#### 💡 느낀 점
- Transactional outbox pattern을 최근에 보면서 어떤식으로 구현하는지가 궁금했었는데, 데이터베이스의 변경이 발생하면 감지가 가능한 CDC를 사용해 구현한 것을 보며 다양한 기술을 조합해 문제를 해결해간 것이 인상적이였다.
- 이벤트 파이프라인을 선택할 때 SQS와 Kafka 사이에서 기술 결정을 했는데 현재 상황에 맞춰서 기술을 선택한 것을 보며 실무에서의 기술 선택의 포인트를 배웠다.
- kafka streams로 그라파나와 연동해 실시간 데이터를 분석 및 모니터링하는 부분이 있는데 나중에 팀에 kafka를 사용할 일이 생기면 그라파나와 연동해 지표들을 확인하면서 개선해보고 싶다.