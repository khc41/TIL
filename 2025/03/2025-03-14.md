## 📅 2025-03-14
### 📖 읽은 블로그: [Debezium으로 DB 동기화 구축하기](https://techblog.uplus.co.kr/debezium%EC%9C%BC%EB%A1%9C-db-synchronization-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-1b6fba73010f)
#### ✏️ 세 줄 요약
- 점진적인 MSA 전환으로 데이터 베이스간의 동기화가 필요했고, 안정성이 있고 성능에 거의 영향을 주지 않으며 유연하게 확장할 수 있는 Debezium을 선택했다.
- ETL 방식으로 진행하게 되면 변경에 포함되지 않는 데이터도 옮겨야하기 때문에 CDC를 선택했다. 
- 데이터 베이스의 데이터에 변경이 발생하면 트랜잭션 로그를 Debezium이 캡쳐하고 kafka connect를 통해 타겟 디비로 보내 동기화를 한다.
#### 💡 느낀 점
- CDC에 대한 기본적인 개념을 알 수 있어서 좋았지만, 실제 적용에 대한 사례들이 없어서 아쉬웠다.
- Debezium이 장점이 있지만, 같이 사용하는 kafka에서 장애가 나면 데이터베이스 동기화는 어떻게 처리되는지 궁금하다.

---

### 🎥 시청한 컨퍼런스 영상: [폭증하는 카카오톡 트래픽에 대처하는 방법 (신성열 Tomo)](https://www.youtube.com/watch?v=U905BeDQ_BA)
#### ✏️ 세 줄 요약
- 사용자 경험을 극대화하기 위해 알림이 오면 백그라운드로 로그인하는 기능이 있어서 지진이 났을 때 트래픽이 몰려 장애가 발생했다.
- 활성화된 스레드의 비율로 부하 레벨을 측정해 레벨에 따라 백그라운드 로그인 차단해서 부하를 줄였다.
- 새로 도입한 시스템에서 부하관련 장애가 발생했는데, 이를 해결하기 위해 요청별로 스레드 수를 할당해 부하분산을 해서 다음 트래픽이 몰릴 때 안정적인 서비스를 제공했다.
#### 💡 느낀 점
- 활성화된 스레드의 비율로 부하 레벨을 측정해, 부하의 원인을 차단하는 방법이 인상적이였습니다. 특히, 부하 레벨에 따라 자동화된 대응 방법을 구축한 것이 참신하다고 생각했습니다.
- 요청별로 스레드 수를 할당해 부하분산을 하는 방법도 신기했습니다. 매니저라는 객체가 각각의 요청에 따라 스레드 수를 카운트해서 관리한다고 하는데, 이부분을 세마포어 같은 방식으로 구현하지 않았을까라고 생각했습니다.